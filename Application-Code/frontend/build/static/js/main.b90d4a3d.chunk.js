(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{62:function(t,e,s){},81:function(t,e,s){},86:function(t,e,s){"use strict";s.r(e);var a=s(0),c=s.n(a),n=s(8),i=s.n(n),l=(s(62),s(51)),o=s(28),r=s.n(o);const d="http://localhost:3500/api/tasks";console.log(d);class h extends a.Component{constructor(){super(...arguments),this.state={tasks:[],currentTask:""},this.handleChange=t=>{let{currentTarget:e}=t;this.setState({currentTask:e.value})},this.handleSubmit=async t=>{t.preventDefault();const e=this.state.tasks;try{console.log("prop",this.state.currentTask);const{data:t}=await(s={task:this.state.currentTask},r.a.post(d,s));console.log("data",t);const a=e;a.push(t),this.setState({tasks:a,currentTask:""})}catch(a){console.log(a)}var s},this.handleUpdate=async t=>{const e=this.state.tasks;try{const c=[...e],n=c.findIndex((e=>e._id===t));c[n]=Object(l.a)({},c[n]),c[n].completed=!c[n].completed,this.setState({tasks:c}),await(s=t,a={completed:c[n].completed},r.a.put(d+"/"+s,a))}catch(c){this.setState({tasks:e}),console.log(c)}var s,a},this.handleDelete=async t=>{const e=this.state.tasks;try{const a=e.filter((e=>e._id!==t));this.setState({tasks:a}),await(s=t,r.a.delete(d+"/"+s))}catch(a){this.setState({tasks:e}),console.log(a)}var s}}async componentDidMount(){try{const{data:t}=await r.a.get(d);this.setState({tasks:t})}catch(t){console.log(t)}}}var p=h,k=s(115),m=s(120),j=s(119),u=s(121),b=(s(81),s(11));var x=class extends p{constructor(){super(...arguments),this.state={tasks:[],currentTask:""}}render(){const{tasks:t,currentTask:e}=this.state;return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("header",{className:"app-header",children:Object(b.jsx)("h1",{children:"My To-Do List"})}),Object(b.jsx)("div",{className:"main-content",children:Object(b.jsxs)(k.a,{elevation:3,className:"todo-container",children:[Object(b.jsxs)("form",{onSubmit:this.handleSubmit,className:"task-form",children:[Object(b.jsx)(m.a,{variant:"outlined",size:"small",className:"task-input",value:e,required:!0,onChange:this.handleChange,placeholder:"Add New TO-DO"}),Object(b.jsx)(j.a,{className:"add-task-btn",color:"primary",variant:"outlined",type:"submit",children:"Add Task"})]}),Object(b.jsx)("div",{className:"tasks-list",children:t.map((t=>Object(b.jsxs)(k.a,{className:"task-item",children:[Object(b.jsx)(u.a,{checked:t.completed,onClick:()=>this.handleUpdate(t._id),color:"primary"}),Object(b.jsx)("div",{className:t.completed?"task-text completed":"task-text",children:t.task}),Object(b.jsx)(j.a,{onClick:()=>this.handleDelete(t._id),color:"secondary",className:"delete-task-btn",children:"Delete"})]},t._id)))})]})})]})}};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)("div",{className:"app-wrapper",children:Object(b.jsx)(x,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.b90d4a3d.chunk.js.map